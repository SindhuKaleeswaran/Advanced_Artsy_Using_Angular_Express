<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="container pb-3 m-4 mx-auto w-75" *ngIf="artistDetail" style="text-align: justify;">
  <div class = "text-center">
    <span *ngIf="isLoading" class="spinner-border" role="status" aria-hidden="true"></span>
  </div>
  
    <div ngClass="artistDetailDisplay" *ngIf="artistId">
        <div style="text-align: center;">
            <h3 style="display: inline-flex; align-items: center; gap: 0.5rem;">
              {{artistDetail.artistName}}
              <ng-container *ngIf="isLoggedIn">
                <i [ngClass]="{'fa-star': true,
                      'fa-solid': artistDetail.isFavourite,
                      'fa-regular': !artistDetail.isFavourite}"
                   [ngStyle]="{'color': artistDetail.isFavourite ? 'gold' : 'gray'}"
                   style="cursor: pointer;" (click)="onClickFav(artistDetail); $event.stopPropagation()">
                </i>
              </ng-container>
            </h3>
          </div>
        <h6 style="text-align: center;">{{artistDetail.nationality}}, {{artistDetail.birthday}} - {{artistDetail.deathday}}</h6>
        <p>{{artistDetail.biography }}</p>
    </div>
    <ng-container *ngIf="isLoggedIn && artistDetail.similarArtists?.length > 0">
        <div class="scroll-container m-4 mx-auto d-flex overflow-auto">
            <div class="card mx-1 btn m-0 p-0" *ngFor="let artist of artistDetail.similarArtists" 
                style="width: 14rem; height: auto; display: flex; flex-direction: column; align-items: center;" 
                (click)="updateArtistId(artist.id)" [ngClass]="{
                  'bg-color': selectedSimilarArtistId === artist.id, 
                  'hover-color': true }">
                
                <div style="position: relative;">
                    <img [src]="artist.thumbnail" class="card-img-top" alt="{{ artist.name }}" 
                        style="width: 100%; height: 200px; object-fit: cover;" 
                        (error)="setDefaultImage($event)">
                        <ng-container *ngIf="isLoggedIn">
                            <i class="fa-regular fa-star" 
                               [ngClass]="{'fa-star': true,
                                 'fa-solid': artist.isFavourite,
                                 'fa-regular': !artist.isFavourite}"
                               [ngStyle]="{'color': artist.isFavourite ? 'gold' : 'white'}"
                               style="position: absolute; top: 5px; right: 5px; font-size: 1.5rem; 
                                      background-color: rgba(1,68,134,255); color: white; border-radius: 50%; padding: 5px;"
                               (click)="onClickFav(artist); $event.stopPropagation()">
                            </i>
                          </ng-container>                          
                </div>
                <div class="card-body m-0 p-2 text-center" 
                style="background-color: rgba(18,37,51,255); color: white; width: 100%; flex-grow: 1;">
                    <h5 class="card-title">{{ artist.name }}</h5>
                </div>
            </div>
        </div>
    </ng-container>
</div>
